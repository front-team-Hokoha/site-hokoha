
---



---

<style lang="scss">


    :global([data-appeargroup] > [data-appearfirst]) {
 
        //background: red;
        opacity: 0;
        transform: translateY(30px);  
    }

    :global([data-appeargroup] > [data-appearsecond]) {
        //background: green;
        opacity: 0;
        transform: translateY(30px);  
    }

    :global([data-appeargroup] > [data-appearthird]) {
        //background: blue;
        opacity: 0;
        transform: translateY(30px);  
    }

    :global([data-appeargroup] > [data-appearfourth]) {
        //background: yellow;
        opacity: 0;
        transform: translateY(30px);  
        
    }



</style>


<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";
    
    gsap.registerPlugin(ScrollTrigger);
  
    document.addEventListener("astro:page-load", () => {

        const delayBetweenAnimations = 0.25;
                
        // Sélectionner tous les groupes et appliquer une animation unique à chacun
        document.querySelectorAll('[data-appeargroup]').forEach(group => {

            const first = group.querySelector('[data-appearfirst]');
            const second = group.querySelector('[data-appearsecond]');
            const third = group.querySelector('[data-appearthird]');
            const fourth = group.querySelector('[data-appearfourth]');

            
            const timeline = gsap.timeline({
                scrollTrigger: {
                    trigger: group,
                    start: "top 50%", // 2/3 de l'écran
                    toggleActions: "play none none none"
                }
            });

            if (first) {
               
                timeline.to(first, {
                    opacity: 1,
                    transform: "translateY(0px)", // Retour à la position initiale
                    duration: 0.5
                });
            }

            if (second) {
                timeline.to(second, {
                    opacity: 1,
                    transform: "translateY(0px)", // Retour à la position initiale
                    left: "-20px",
                    duration: 0.5
                }, "-=0.25"); // Délai de 0.25s après l'animation précédente
            }

            if (third) {
                timeline.to(third, {
                    opacity: 1,
                    transform: "translateY(0px)", // Retour à la position initiale
                    duration: 0.5
                }, "-=0.25"); // Délai de 0.25s après l'animation précédente
            }

            if (fourth) {
                timeline.to(fourth, {
                    opacity: 1,
                    transform: "translateY(0px)", // Retour à la position initiale
                    duration: 0.5
                }, "-=0.25"); // Délai de 0.25s après l'animation précédente
            }
        });
    });
</script>
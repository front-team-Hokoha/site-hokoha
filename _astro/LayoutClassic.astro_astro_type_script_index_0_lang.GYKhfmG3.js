import{g as z,C as at,S as j}from"./ScrollTrigger.BtHU749N.js";var H=z.registerPlugin(at)||z;H.core.Tween;function lt(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var A={exports:{}},ot=A.exports,F;function st(){return F||(F=1,(function(g,v){(function(c,d){g.exports=d()})(ot,(function(){var c=document,d=c.createTextNode.bind(c);function w(t,r,e){t.style.setProperty(r,e)}function T(t,r){return t.appendChild(r)}function E(t,r,e,i){var n=c.createElement("span");return r&&(n.className=r),e&&(!i&&n.setAttribute("data-"+r,e),n.textContent=e),t&&T(t,n)||n}function P(t,r){return t.getAttribute("data-"+r)}function y(t,r){return!t||t.length==0?[]:t.nodeName?[t]:[].slice.call(t[0].nodeName?t:(r||c).querySelectorAll(t))}function q(t){for(var r=[];t--;)r[t]=[];return r}function f(t,r){t&&t.some(r)}function D(t){return function(r){return t[r]}}function I(t,r,e){var i="--"+r,n=i+"-index";f(e,function(a,l){Array.isArray(a)?f(a,function(o){w(o,n,l)}):w(a,n,l)}),w(t,i+"-total",e.length)}var L={};function O(t,r,e){var i=e.indexOf(t);if(i==-1){e.unshift(t);var n=L[t];if(!n)throw new Error("plugin not loaded: "+t);f(n.depends,function(l){O(l,t,e)})}else{var a=e.indexOf(r);e.splice(i,1),e.splice(a,0,t)}return e}function h(t,r,e,i){return{by:t,depends:r,key:e,split:i}}function $(t){return O(t,0,[]).map(D(L))}function u(t){L[t.by]=t}function M(t,r,e,i,n){t.normalize();var a=[],l=document.createDocumentFragment();i&&a.push(t.previousSibling);var o=[];return y(t.childNodes).some(function(s){if(s.tagName&&!s.hasChildNodes()){o.push(s);return}if(s.childNodes&&s.childNodes.length){o.push(s),a.push.apply(a,M(s,r,e,i,n));return}var p=s.wholeText||"",C=p.trim();if(C.length){p[0]===" "&&o.push(d(" "));var nt=e===""&&typeof Intl.Segmenter=="function";f(nt?Array.from(new Intl.Segmenter().segment(C)).map(function(k){return k.segment}):C.split(e),function(k,it){it&&n&&o.push(E(l,"whitespace"," ",n));var _=E(l,r,k);a.push(_),o.push(_)}),p[p.length-1]===" "&&o.push(d(" "))}}),f(o,function(s){T(l,s)}),t.innerHTML="",T(t,l),a}var m=0;function V(t,r){for(var e in r)t[e]=r[e];return t}var x="words",B=h(x,m,"word",function(t){return M(t,"word",/\s+/,0,1)}),R="chars",G=h(R,[x],"char",function(t,r,e){var i=[];return f(e[x],function(n,a){i.push.apply(i,M(n,"char","",r.whitespace&&a))}),i});function b(t){t=t||{};var r=t.key;return y(t.target||"[data-splitting]").map(function(e){var i=e["ðŸŒ"];if(!t.force&&i)return i;i=e["ðŸŒ"]={el:e};var n=t.by||P(e,"splitting");(!n||n=="true")&&(n=R);var a=$(n),l=V({},t);return f(a,function(o){if(o.split){var s=o.by,p=(r?"-"+r:"")+o.key,C=o.split(e,l,i);p&&I(e,p,C),i[s]=C,e.classList.add(s)}}),e.classList.add("splitting"),i})}function U(t){t=t||{};var r=t.target=E();return r.innerHTML=t.content,b(t),r.outerHTML}b.html=U,b.add=u;function N(t,r,e){var i=y(r.matching||t.children,t),n={};return f(i,function(a){var l=Math.round(a[e]);(n[l]||(n[l]=[])).push(a)}),Object.keys(n).map(Number).sort(Y).map(D(n))}function Y(t,r){return t-r}var J=h("lines",[x],"line",function(t,r,e){return N(t,{matching:e[x]},"offsetTop")}),K=h("items",m,"item",function(t,r){return y(r.matching||t.children,t)}),Q=h("rows",m,"row",function(t,r){return N(t,r,"offsetTop")}),W=h("cols",m,"col",function(t,r){return N(t,r,"offsetLeft")}),X=h("grid",["rows","cols"]),S="layout",Z=h(S,m,m,function(t,r){var e=r.rows=+(r.rows||P(t,"rows")||1),i=r.columns=+(r.columns||P(t,"columns")||1);if(r.image=r.image||P(t,"image")||t.currentSrc||t.src,r.image){var n=y("img",t)[0];r.image=n&&(n.currentSrc||n.src)}r.image&&w(t,"background-image","url("+r.image+")");for(var a=e*i,l=[],o=E(m,"cell-grid");a--;){var s=E(o,"cell");E(s,"cell-inner"),l.push(s)}return T(t,o),l}),tt=h("cellRows",[S],"row",function(t,r,e){var i=r.rows,n=q(i);return f(e[S],function(a,l,o){n[Math.floor(l/(o.length/i))].push(a)}),n}),rt=h("cellColumns",[S],"col",function(t,r,e){var i=r.columns,n=q(i);return f(e[S],function(a,l){n[l%i].push(a)}),n}),et=h("cells",["cellRows","cellColumns"],"cell",function(t,r,e){return e[S]});return u(B),u(G),u(J),u(K),u(Q),u(W),u(X),u(Z),u(tt),u(rt),u(et),b}))})(A)),A.exports}var ct=st();const ut=lt(ct);class ht{constructor(v,c,d){if(!v||!(v instanceof HTMLElement))throw new Error("Invalid element provided.");this.gsap=c,this.ScrollTrigger=d,this.highlightedElement=v,this.selectMarker=this.highlightedElement.querySelector(".hx__select"),this.highlightedChars=this.highlightedElement.querySelectorAll(".char"),this.animationDefaults={duration:.4,ease:"power1.inOut"},this.initializeEffect(this.wrapElement)}initializeEffect(v){this.scroll()}scroll(){if(!this.ScrollTrigger)throw new Error("ScrollTrigger n'est pas dÃ©fini dans HighlightEffect.");this.ScrollTrigger.create({trigger:this.highlightedElement,start:"top 70%",onEnter:()=>this.animateChars(),onEnterBack:()=>this.animateChars(),onLeaveBack:()=>this.resetChars()})}animateChars(){this.gsap.timeline({defaults:this.animationDefaults}).fromTo(this.highlightedChars,{willChange:"filter",filter:"drop-shadow(0px 0px 0px #ffdbf5)"},{stagger:.03,filter:"drop-shadow(0px 0px 20px #ffdbf5)"}).to(this.selectMarker,{duration:.8,ease:"expo","--select-width":getComputedStyle(this.highlightedElement).getPropertyValue("--select-width-final")},0)}resetChars(){this.gsap.killTweensOf([this.highlightedChars,this.selectMarker]),this.gsap.set(this.selectMarker,{"--select-width":"0%"}),this.gsap.set(this.highlightedChars,{filter:"drop-shadow(0px 0px 0px #ffdbf5)"})}}H.registerPlugin(j);function ft(){document.body.classList.remove("loading"),document.querySelectorAll(".hx").forEach(c=>{c.classList.contains("hx-11")||(c.dataset.splitting="")}),ut(),[{selector:".hx-13",effect:ht}].forEach(({selector:c,effect:d})=>{document.querySelectorAll(c).forEach(w=>{new d(w,H,j)})})}document.addEventListener("astro:page-load",()=>{console.log("astro:page-load : Entreprise"),ft()});

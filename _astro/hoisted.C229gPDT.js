import{g as z,C as at,S as P,a as x}from"./ViewTransitions.astro_astro_type_script_index_0_lang.DflbG2UC.js";import"https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js";var H=z.registerPlugin(at)||z;H.core.Tween;var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var F={exports:{}};(function(f,h){(function(u,s){f.exports=s()})(ot,function(){var u=document,s=u.createTextNode.bind(u);function p(t,e,r){t.style.setProperty(e,r)}function v(t,e){return t.appendChild(e)}function E(t,e,r,i){var n=u.createElement("span");return e&&(n.className=e),r&&(!i&&n.setAttribute("data-"+e,r),n.textContent=r),t&&v(t,n)||n}function A(t,e){return t.getAttribute("data-"+e)}function b(t,e){return!t||t.length==0?[]:t.nodeName?[t]:[].slice.call(t[0].nodeName?t:(e||u).querySelectorAll(t))}function D(t){for(var e=[];t--;)e[t]=[];return e}function m(t,e){t&&t.some(e)}function O(t){return function(e){return t[e]}}function I(t,e,r){var i="--"+e,n=i+"-index";m(r,function(a,o){Array.isArray(a)?m(a,function(l){p(l,n,o)}):p(a,n,o)}),p(t,i+"-total",r.length)}var M={};function R(t,e,r){var i=r.indexOf(t);if(i==-1){r.unshift(t);var n=M[t];if(!n)throw new Error("plugin not loaded: "+t);m(n.depends,function(o){R(o,t,r)})}else{var a=r.indexOf(e);r.splice(i,1),r.splice(a,0,t)}return r}function d(t,e,r,i){return{by:t,depends:e,key:r,split:i}}function B(t){return R(t,0,[]).map(O(M))}function g(t){M[t.by]=t}function N(t,e,r,i,n){t.normalize();var a=[],o=document.createDocumentFragment();i&&a.push(t.previousSibling);var l=[];return b(t.childNodes).some(function(c){if(c.tagName&&!c.hasChildNodes()){l.push(c);return}if(c.childNodes&&c.childNodes.length){l.push(c),a.push.apply(a,N(c,e,r,i,n));return}var y=c.wholeText||"",S=y.trim();if(S.length){y[0]===" "&&l.push(s(" "));var nt=r===""&&typeof Intl.Segmenter=="function";m(nt?Array.from(new Intl.Segmenter().segment(S)).map(function(q){return q.segment}):S.split(r),function(q,it){it&&n&&l.push(E(o,"whitespace"," ",n));var j=E(o,e,q);a.push(j),l.push(j)}),y[y.length-1]===" "&&l.push(s(" "))}}),m(l,function(c){v(o,c)}),t.innerHTML="",v(t,o),a}var w=0;function G(t,e){for(var r in e)t[r]=e[r];return t}var T="words",V=d(T,w,"word",function(t){return N(t,"word",/\s+/,0,1)}),_="chars",$=d(_,[T],"char",function(t,e,r){var i=[];return m(r[T],function(n,a){i.push.apply(i,N(n,"char","",e.whitespace&&a))}),i});function L(t){t=t||{};var e=t.key;return b(t.target||"[data-splitting]").map(function(r){var i=r["🍌"];if(!t.force&&i)return i;i=r["🍌"]={el:r};var n=t.by||A(r,"splitting");(!n||n=="true")&&(n=_);var a=B(n),o=G({},t);return m(a,function(l){if(l.split){var c=l.by,y=(e?"-"+e:"")+l.key,S=l.split(r,o,i);y&&I(r,y,S),i[c]=S,r.classList.add(c)}}),r.classList.add("splitting"),i})}function U(t){t=t||{};var e=t.target=E();return e.innerHTML=t.content,L(t),e.outerHTML}L.html=U,L.add=g;function k(t,e,r){var i=b(e.matching||t.children,t),n={};return m(i,function(a){var o=Math.round(a[r]);(n[o]||(n[o]=[])).push(a)}),Object.keys(n).map(Number).sort(W).map(O(n))}function W(t,e){return t-e}var Y=d("lines",[T],"line",function(t,e,r){return k(t,{matching:r[T]},"offsetTop")}),J=d("items",w,"item",function(t,e){return b(e.matching||t.children,t)}),K=d("rows",w,"row",function(t,e){return k(t,e,"offsetTop")}),Q=d("cols",w,"col",function(t,e){return k(t,e,"offsetLeft")}),X=d("grid",["rows","cols"]),C="layout",Z=d(C,w,w,function(t,e){var r=e.rows=+(e.rows||A(t,"rows")||1),i=e.columns=+(e.columns||A(t,"columns")||1);if(e.image=e.image||A(t,"image")||t.currentSrc||t.src,e.image){var n=b("img",t)[0];e.image=n&&(n.currentSrc||n.src)}e.image&&p(t,"background-image","url("+e.image+")");for(var a=r*i,o=[],l=E(w,"cell-grid");a--;){var c=E(l,"cell");E(c,"cell-inner"),o.push(c)}return v(t,l),o}),tt=d("cellRows",[C],"row",function(t,e,r){var i=e.rows,n=D(i);return m(r[C],function(a,o,l){n[Math.floor(o/(l.length/i))].push(a)}),n}),et=d("cellColumns",[C],"col",function(t,e,r){var i=e.columns,n=D(i);return m(r[C],function(a,o){n[o%i].push(a)}),n}),rt=d("cells",["cellRows","cellColumns"],"cell",function(t,e,r){return r[C]});return g(V),g($),g(Y),g(J),g(K),g(Q),g(X),g(Z),g(tt),g(et),g(rt),L})})(F);var st=F.exports;const ct=lt(st);class ut{constructor(h,u,s){if(!h||!(h instanceof HTMLElement))throw new Error("Invalid element provided.");this.gsap=u,this.ScrollTrigger=s,this.highlightedElement=h,this.selectMarker=this.highlightedElement.querySelector(".hx__select"),this.highlightedChars=this.highlightedElement.querySelectorAll(".char"),this.animationDefaults={duration:.4,ease:"power1.inOut"},this.initializeEffect(this.wrapElement)}initializeEffect(h){this.scroll()}scroll(){if(!this.ScrollTrigger)throw new Error("ScrollTrigger n'est pas défini dans HighlightEffect.");this.ScrollTrigger.create({trigger:this.highlightedElement,start:"center center",onEnter:()=>this.animateChars(),onEnterBack:()=>this.animateChars(),onLeaveBack:()=>this.resetChars()})}animateChars(){this.gsap.timeline({defaults:this.animationDefaults}).fromTo(this.highlightedChars,{willChange:"filter",filter:"drop-shadow(0px 0px 0px #ffdbf5)"},{stagger:.03,filter:"drop-shadow(0px 0px 20px #ffdbf5)"}).to(this.selectMarker,{duration:.8,ease:"expo","--select-width":getComputedStyle(this.highlightedElement).getPropertyValue("--select-width-final")},0)}resetChars(){this.gsap.killTweensOf([this.highlightedChars,this.selectMarker]),this.gsap.set(this.selectMarker,{"--select-width":"0%"}),this.gsap.set(this.highlightedChars,{filter:"drop-shadow(0px 0px 0px #ffdbf5)"})}}H.registerPlugin(P);function ht(){document.body.classList.remove("loading"),document.querySelectorAll(".hx").forEach(u=>{u.classList.contains("hx-11")||(u.dataset.splitting="")}),ct(),[{selector:".hx-13",effect:ut}].forEach(({selector:u,effect:s})=>{document.querySelectorAll(u).forEach(p=>{new s(p,H,P)})})}document.addEventListener("astro:page-load",()=>{console.log("astro:page-load : Entreprise"),ht()});x.registerPlugin(P);document.addEventListener("astro:page-load",()=>{document.querySelectorAll(".oka-expertise").forEach(f=>{const h=f.getAttribute("data-accroche"),u=document.getElementById("accroches");P.create({trigger:f,start:"top 80%",onEnter:()=>{if(!Array.from(u.children).some(s=>s.textContent===h)){const s=document.createElement("p");s.classList.add("accroche"),s.classList.add("oka-h"),s.classList.add("noto-serif"),h.split("").forEach(p=>{const v=document.createElement("span");v.textContent=p,s.appendChild(v)}),u.appendChild(s),x.fromTo(s.querySelectorAll("span"),{opacity:0,y:20},{opacity:1,y:0,stagger:.05,duration:.25})}}})})});x.registerPlugin(P);document.addEventListener("astro:page-load",()=>{document.querySelectorAll(".parallax-image").forEach(h=>{x.to(h,{opacity:1,filter:"blur(0px)",duration:2,ease:"power2.out",scrollTrigger:{trigger:h,start:"top 80%",toggleActions:"play none none none"}}),x.to(h,{y:"30%",scrollTrigger:{trigger:h,start:"top bottom",end:"bottom top",scrub:!0}})})});
